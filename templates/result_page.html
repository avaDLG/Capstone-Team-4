{% extends "base.html" %}

{% block title %}Course Projection Tool{% endblock %}

{% block content %}
<div class="container" style="margin-top: 400px; display: flex; flex-direction: column; gap: 20px;">
    <!-- Back Button -->
    <a href="{{ url_for('home', username=username) }}" class="btn btn-secondary mb-4">
        ‚Üê Back to Home
    </a>

    <!-- Class Overview -->
    <div class="card mb-4" style="flex: 1;">
        <div class="card-body">
            <h2 class="card-title">{{ class_code }} Overview</h2>
            <p class="card-text">Class Name: {{ class_name }}</p>
        </div>
    </div>

    <!-- Enrollments -->
    <div class="card mb-4" style="flex: 1;">
        <div class="card-body">
            <h3 class="card-title">Class Enrollments Over the Years</h3>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Semester</th>
                        <th>Enrollments</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Fall</td>
                        <td>{{ fall }}</td>
                    </tr>
                    <tr>
                        <td>Spring</td>
                        <td>{{ spring }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Predictions -->
    <div class="card mb-4" style="flex: 1;">
        <div class="card-body">
            <h3>Preliminary Predictions:</h3>
            <p>Linear Regression</p>
            <p>{{ lr_prediction[0] }}</p>
            <p>{{ lr_prediction[1] }}</p>
            <p>{{ lr_prediction[2] }}</p>
            <p>Random Forest Regression</p>
            <p>{{ rr_prediction[0] }}</p>
            <p>{{ rr_prediction[1] }}</p>
            <p>{{ rr_prediction[2] }}</p>
            <p style="color: red;">{{ discontinued }}</p>
        </div>
    </div>

    <!-- Plot -->
    <div class="card mb-4" style="flex: 1;">
        <div class="card-body">
            <img src="{{ url_for('static', filename='plots/' + filename) }}" alt="Generated Plot" class="img-fluid">
        </div>
    </div>
</div>
{% endblock %}
